<!--
  Generated template for the SearchClubLeaguePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar>
    <ion-buttons left>
      <button ion-button icon-only navPop>
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>{{title}}</ion-title>

    <ion-buttons right>
      <button ion-button icon-only (click)="goToSearchPage()">
        <ion-icon name="ios-search-outline"></ion-icon>
      </button>
    </ion-buttons>

  </ion-toolbar>

</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-list *ngIf="mode == 'club' && mListClubManagerInLeague.length > 0">
    <ion-item-divider color="lightgray" no-border>Lãnh đội trong giải đấu</ion-item-divider>

    <button ion-item *ngFor="let item of mListClubManagerInLeague" (click)="onClickClubManagerInLeague(item)" tappable>
      <ion-avatar item-start>
        <img [src]="item.mClub.logo || './assets/imgs/logo_club.png'">
      </ion-avatar>
      <div class="mtext-container">
        <div class="normal-font">{{item.getClub().getName()}}</div>
        <div class="small-font gray-color">{{item.getLeague().getName()}}</div>
      </div>
    </button>
  </ion-list>

  <ion-list *ngIf="mode == 'club' && mListClubManager.length > 0">
    <ion-item-divider color="lightgray" no-border>Câu lạc bộ đang quản lý</ion-item-divider>

    <button ion-item *ngFor="let item of mListClubManager" (click)="onClickClubManager(item)" tappable>
      <ion-avatar item-start>
        <img [src]="item.logo || './assets/imgs/logo_club.png'">
      </ion-avatar>
      <div class="mtext-container">
        <div class="normal-font">{{item.getName()}}</div>
        <div class="small-font gray-color">Thành viên: {{item.getNumberPlayer()}}</div>
      </div>
    </button>
  </ion-list>

  <ion-list *ngIf="mode == 'club' && mListClubJoin.length > 0">
    <ion-item-divider color="lightgray" no-border>Câu lạc bộ đang tham gia</ion-item-divider>

    <button ion-item *ngFor="let item of mListClubJoin" (click)="onClickClubJoin(item)" tappable>
      <ion-avatar item-start>
        <img [src]="item.logo || './assets/imgs/logo_club.png'">
      </ion-avatar>
      <div class="mtext-container">
        <div class="normal-font">{{item.getName()}}</div>
        <div class="small-font gray-color">Thành viên: {{item.getNumberPlayer()}}</div>
      </div>
    </button>
  </ion-list>




  <div *ngIf="mode == 'league'">
    <ion-list>

      <div [hidden]="mListLeagueEditor.length == 0">
        <ion-item-divider color="lightgray" no-border>Quản trị giải đấu</ion-item-divider>

        <button ion-item *ngFor="let item of mListLeagueEditor" (click)="onClickLeagueEditor(item)">
          <ion-avatar item-start>
            <img [src]="item.logo || './assets/default/league_logo_default.png'">
          </ion-avatar>
          <div class="mtext-container">
            <div class="normal-font">{{item.getName()}}</div>
            <div class="small-font gray-color">Câu lạc bộ: {{item.numberClubJoined}}/{{item.numberClub}}</div>
          </div>
        </button>
      </div>




      <ion-item-divider color="lightgray" no-border>Giải đấu đã tham gia</ion-item-divider>

      <div [hidden]="mListLeagueMember.length > 0" class="semi-font color-gray" padding text-center>Bạn chưa tham gia
        giải đấu nào</div>

      <div [hidden]="mListLeagueMember.length==0">
        <button ion-item *ngFor="let item of mListLeagueMember" (click)="onClickLeague(item)">
          <ion-avatar item-start>
            <img [src]="item.logo || './assets/default/league_logo_default.png'">
          </ion-avatar>
          <div class="mtext-container">
            <div class="normal-font">{{item.getName()}}</div>
            <div class="small-font gray-color">Câu lạc bộ: {{item.numberClubJoined}}/{{item.numberClub}}</div>
          </div>
        </button>
      </div>
    </ion-list>


  </div>


</ion-content>
